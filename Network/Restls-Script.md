Restls 剧本(Restls-Script)，是为了抵御**长城防火墙**的 `Tls in Tls` 检测而被开发的。

Restls剧本可以让代理流量毫无特征可言，从而不具有统一的、明显地特征，不能被识别。

> 所有代理都要使用两层tls加密，一层是`PC->代理`，第二层是`PC->网站`的。第二层包裹在第一层里面，这样代理服务器就无法解密用户的流量。
> 
> 然而，长城虽然不能解密tit，但是tit会有明显地流量特征——tls握手包的大小是rfc标准，是一样的。内层tls握手包虽然被加密，但其大小、发包的行为模式仍然具有明显特征。

为此，Restls设计了一个可以高度定制化握手流量行为的机制，称之为「剧本」。

举例说明如何撰写「剧本」：
以`"200?10,300~50,70<2,100~1000<1"`为例，该剧本决定了 Restls 前4个用户数据包的行为：

- 第一个数据包的长度会在200-210之间，该长度会在启动时确定（假定是203），之后的每次连接的第一个包的长度都会是203。
- 第二个数据包的长度在300-350之间，与第一个包不同，该长度在每次连接都会随机确定。
- 第三个包的长度固定为70，同时restls要求对方向自己发送两个回包(<2)。
- 第四个包的长度在100-1100之间且每次连接都会不同，对方需要发送一个回包(<1)。
局限